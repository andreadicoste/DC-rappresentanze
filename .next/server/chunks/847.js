exports.id=847,exports.ids=[847],exports.modules={3249:(e,t,a)=>{Promise.resolve().then(a.bind(a,3024)),Promise.resolve().then(a.t.bind(a,1476,23)),Promise.resolve().then(a.bind(a,8354))},3024:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(5344),n=a(3729),s=a(1293);let l=s.rU,o={ingresso_gdo:"Ingresso in GDO",cash_carry:"Piano Cash & Carry / Ingrosso",vending:"Canale Vending",audit_portafoglio:"Audit portafoglio prodotti"},i=s.qU||{basePrices:{},addons:[],multipliers:{}};function d(){let[e,t]=(0,n.useState)(0),[a,d]=(0,n.useState)({serviceType:"ingresso_gdo",addons:[],volumeStimato:2e4,referenze:3,urgency:"normale",note:""}),[c,u]=(0,n.useState)({name:"",email:"",phone:"",address:""}),[b,x]=(0,n.useState)("idle"),[m,p]=(0,n.useState)(null),f=(0,n.useMemo)(()=>(function(e){let t=i.basePrices?.[e.serviceType]||0,a=t,r=[{label:o[e.serviceType]||"Servizio",value:t}];e.addons.forEach(e=>{let t=i.addons?.find(t=>t.id===e);t&&(a+=t.price,r.push({label:t.label,value:t.price}))});let n=e.volumeStimato>0?1+Math.min(e.volumeStimato/5e4,.2):1,s=e.referenze>8?1.1:e.referenze>3?1.05:1,l=Math.round(n*s*("alta"===e.urgency?i.multipliers?.urgenza_alta||1.15:1)*(i.multipliers?.target_catena_top||1.1)*a);return{min:Math.round(.9*l),max:Math.round(1.15*l),recommended:l,breakdown:r}})(a),[a]),h=e=>{d(t=>({...t,addons:t.addons.includes(e)?t.addons.filter(t=>t!==e):[...t.addons,e]}))},v=()=>t(e=>Math.min(e+1,3)),y=()=>t(e=>Math.max(e-1,0)),g=async()=>{x("loading"),p(null);try{let e=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...c,estimate:f.recommended,source:s.gf?.source,stage:s.gf?.defaultStage,extraData:{companyId:l,serviceType:a.serviceType,addons:a.addons,volumeStimato:a.volumeStimato,referenze:a.referenze,urgency:a.urgency,note:a.note}})});if(!e.ok){let t=await e.json().catch(()=>({}));throw Error(t.error||"Errore nell'invio")}x("success")}catch(e){x("error"),p(e?.message||"Errore inatteso")}};return r.jsx("div",{className:"pt-24 min-h-screen bg-[#F8FAFC]",children:(0,r.jsxs)("div",{className:"container mx-auto px-6 py-12 max-w-3xl",children:[(0,r.jsxs)("div",{className:"text-center mb-10",children:[r.jsx("span",{className:"text-brand-accent font-display font-bold text-xs uppercase tracking-widest mb-3 block",children:"Preventivatore"}),r.jsx("h1",{className:"font-display text-3xl md:text-4xl font-bold text-brand-primary mb-3",children:"Stima rapida"}),r.jsx("p",{className:"text-slate-500",children:"4 step semplici. Nessuna colonna doppia, tutto chiaro."})]}),(0,r.jsxs)("div",{className:"bg-white rounded-3xl shadow-soft border border-slate-100 p-8 space-y-8",children:[0===e&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h2",{className:"font-display text-2xl font-bold text-brand-primary",children:"Scegli il servizio"}),r.jsx("div",{className:"space-y-3",children:Object.entries(i.basePrices||{}).map(([e,t])=>(0,r.jsxs)("label",{className:`flex items-center justify-between border rounded-2xl px-4 py-3 cursor-pointer transition-colors ${a.serviceType===e?"border-brand-accent bg-blue-50":"border-slate-200"}`,children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-bold text-brand-primary",children:o[e]||e}),(0,r.jsxs)("div",{className:"text-slate-500 text-sm",children:["Base: €",t]})]}),r.jsx("input",{type:"radio",name:"service",checked:a.serviceType===e,onChange:()=>d(t=>({...t,serviceType:e}))})]},e))}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("div",{}),r.jsx("button",{onClick:v,className:"px-6 py-3 bg-brand-primary text-white rounded-xl font-bold transition-all duration-300 hover:bg-gradient-to-r hover:from-brand-accent hover:to-blue-400",children:"Avanti"})]})]}),1===e&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h2",{className:"font-display text-2xl font-bold text-brand-primary",children:"Dati tecnici"}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-bold text-brand-primary",children:"Volume stimato annuo (€)"}),r.jsx("input",{type:"number",value:a.volumeStimato,onChange:e=>d(t=>({...t,volumeStimato:Number(e.target.value)||0})),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:border-brand-accent focus:ring-1 focus:ring-brand-accent transition-all"}),r.jsx("label",{className:"block text-sm font-bold text-brand-primary mt-4",children:"Numero referenze"}),r.jsx("input",{type:"number",value:a.referenze,onChange:e=>d(t=>({...t,referenze:Number(e.target.value)||0})),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:border-brand-accent focus:ring-1 focus:ring-brand-accent transition-all"}),r.jsx("label",{className:"block text-sm font-bold text-brand-primary mt-4",children:"Urgenza"}),(0,r.jsxs)("select",{value:a.urgency,onChange:e=>d(t=>({...t,urgency:e.target.value})),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:border-brand-accent focus:ring-1 focus:ring-brand-accent transition-all",children:[r.jsx("option",{value:"normale",children:"Normale"}),r.jsx("option",{value:"alta",children:"Alta (priorit\xe0)"})]}),(0,r.jsxs)("div",{className:"mt-4 space-y-2",children:[r.jsx("div",{className:"font-bold text-brand-primary text-sm",children:"Extra"}),i.addons?.map(e=>r.jsxs("label",{className:"flex items-center gap-3 text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:a.addons.includes(e.id),onChange:()=>h(e.id)}),r.jsxs("span",{children:[e.label," (+€",e.price,")"]})]},e.id))]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("button",{onClick:y,className:"px-6 py-3 bg-white border border-slate-200 rounded-xl font-bold text-brand-primary hover:border-brand-accent transition",children:"Indietro"}),r.jsx("button",{onClick:v,className:"px-6 py-3 bg-brand-primary text-white rounded-xl font-bold transition-all duration-300 hover:bg-gradient-to-r hover:from-brand-accent hover:to-blue-400",children:"Avanti"})]})]}),2===e&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h2",{className:"font-display text-2xl font-bold text-brand-primary",children:"I tuoi dati"}),r.jsx("label",{className:"block text-sm font-bold text-brand-primary",children:"Nome e cognome"}),r.jsx("input",{type:"text",value:c.name,onChange:e=>u(t=>({...t,name:e.target.value})),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:border-brand-accent focus:ring-1 focus:ring-brand-accent transition-all",required:!0}),r.jsx("label",{className:"block text-sm font-bold text-brand-primary",children:"Email"}),r.jsx("input",{type:"email",value:c.email,onChange:e=>u(t=>({...t,email:e.target.value})),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:border-brand-accent focus:ring-1 focus:ring-brand-accent transition-all",required:!0}),r.jsx("label",{className:"block text-sm font-bold text-brand-primary",children:"Telefono"}),r.jsx("input",{type:"tel",value:c.phone,onChange:e=>u(t=>({...t,phone:e.target.value})),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:border-brand-accent focus:ring-1 focus:ring-brand-accent transition-all"}),r.jsx("label",{className:"block text-sm font-bold text-brand-primary",children:"Indirizzo / Azienda"}),r.jsx("input",{type:"text",value:c.address,onChange:e=>u(t=>({...t,address:e.target.value})),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:border-brand-accent focus:ring-1 focus:ring-brand-accent transition-all"}),r.jsx("label",{className:"block text-sm font-bold text-brand-primary",children:"Note tecniche (facoltative)"}),r.jsx("textarea",{value:a.note,onChange:e=>d(t=>({...t,note:e.target.value})),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:border-brand-accent focus:ring-1 focus:ring-brand-accent transition-all h-24",placeholder:"Specifiche prodotti, tempistiche, canale..."}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("button",{onClick:y,className:"px-6 py-3 bg-white border border-slate-200 rounded-xl font-bold text-brand-primary hover:border-brand-accent transition",children:"Indietro"}),r.jsx("button",{onClick:v,className:"px-6 py-3 bg-brand-primary text-white rounded-xl font-bold transition-all duration-300 hover:bg-gradient-to-r hover:from-brand-accent hover:to-blue-400",children:"Avanti"})]})]}),3===e&&(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("h2",{className:"font-display text-2xl font-bold text-brand-primary",children:"Riepilogo e stima"}),(0,r.jsxs)("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-200 space-y-3",children:[r.jsx("div",{className:"text-sm text-slate-500",children:"Servizio"}),r.jsx("div",{className:"text-brand-primary font-bold",children:o[a.serviceType]||a.serviceType}),r.jsx("div",{className:"text-sm text-slate-500",children:"Stima"}),(0,r.jsxs)("div",{className:"text-3xl font-display font-bold text-brand-primary",children:["€",f.min," - €",f.max]}),(0,r.jsxs)("div",{className:"text-sm text-slate-500",children:["Raccomandato: €",f.recommended]})]}),r.jsx("div",{className:"space-y-2",children:f.breakdown.map(e=>(0,r.jsxs)("div",{className:"flex justify-between text-sm text-slate-700 border-b border-slate-100 pb-1",children:[r.jsx("span",{children:e.label}),(0,r.jsxs)("span",{children:["€",e.value]})]},e.label))}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("button",{onClick:y,className:"px-6 py-3 bg-white border border-slate-200 rounded-xl font-bold text-brand-primary hover:border-brand-accent transition",children:"Indietro"}),r.jsx("button",{onClick:g,disabled:"loading"===b||"success"===b,className:"px-6 py-3 bg-brand-primary text-white rounded-xl font-bold transition-all duration-300 hover:bg-gradient-to-r hover:from-brand-accent hover:to-blue-400 disabled:opacity-70 disabled:cursor-not-allowed",children:"success"===b?"Inviato":"loading"===b?"Invio...":"Conferma e invia"})]}),"success"===b&&(0,r.jsxs)("p",{className:"text-sm text-emerald-600",children:["Richiesta inviata correttamente. ",s.qi?.formSuccessMessage||"Ti ricontatteremo a breve."]}),"error"===b&&m?r.jsx("p",{className:"text-sm text-red-600",children:m}):null]})]})]})})}},8354:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let r=a(3689);function n(e){let{reason:t,children:a}=e;throw new r.BailoutToCSRError(t)}},970:(e,t,a)=>{"use strict";a.d(t,{default:()=>n.a});var r=a(5984),n=a.n(r)},5984:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let r=a(6783);a(5036),a(2);let n=r._(a(9494));function s(e,t){let a={loading:e=>{let{error:t,isLoading:a,pastDelay:r}=e;return null}};return"function"==typeof e&&(a.loader=e),(0,n.default)({...a,...t})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3505:(e,t,a)=>{"use strict";let{createProxy:r}=a(6843);e.exports=r("/Users/andreadicoste/Downloads/dc-rappresentanze/node_modules/next/dist/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.js")},9494:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let r=a(5036),n=a(2),s=a(3505);function l(e){var t;return{default:null!=(t=null==e?void 0:e.default)?t:e}}let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},i=function(e){let t={...o,...e},a=(0,n.lazy)(()=>t.loader().then(l)),i=t.loading;function d(e){let l=i?(0,r.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,o=t.ssr?(0,r.jsx)(a,{...e}):(0,r.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(a,{...e})});return(0,r.jsx)(n.Suspense,{fallback:l,children:o})}return d.displayName="LoadableComponent",d}},1293:e=>{"use strict";e.exports=JSON.parse('{"rU":"8d43cc6f-29a5-41e2-983c-02fb5bbf3cdd","qi":{"formSuccessMessage":"Grazie! Ti ricontatteremo entro 24 ore."},"gf":{"notesPrefix":"Dati preventivo","source":"preventivatore","defaultStage":"da contattare"},"qU":{"basePrices":{"ingresso_gdo":1800,"cash_carry":1400,"vending":1200,"audit_portafoglio":950},"addons":[{"id":"reportistica","label":"Reportistica avanzata","price":250},{"id":"formazione","label":"Formazione rete vendita","price":350},{"id":"fiere","label":"Supporto fiere/degustazioni","price":300}],"multipliers":{"urgenza_alta":1.15,"target_catena_top":1.1}}}')}};